{"ast":null,"code":"import axios from 'axios';\nimport Cookies from 'js-cookie'; // https://vcalendar.io/installation.html\n\nexport default {\n  data() {\n    return {\n      selectedDate: new Date(),\n      patientList: [{\n        name: '김철수',\n        age: 30,\n        symptom: '피로, 두통, 발열'\n      }, {\n        name: '이영희',\n        age: 40,\n        symptom: '피로, 두통, 발열'\n      }],\n      appoList: [{\n        p_name: '김철수',\n        kind: '진료(초진)',\n        time_at: '오전 10시 00분',\n        room: '412호 병동'\n      }, {\n        p_name: '이영희',\n        kind: '진료(재진)',\n        time_at: '오전 10시 30분',\n        room: '412호 병동'\n      }],\n      popupLeft: 0,\n      popupTop: 0,\n      popupDisp: false\n    };\n  },\n\n  setup() {// function hi(e) {\n    // \t//TODO: https://leestrument.tistory.com/entry/%ED%81%B4%EB%A6%AD%ED%95%9C-%EC%9C%84%EC%B9%98%EC%97%90-%EC%9A%94%EC%86%8C-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0\n    // }\n  },\n\n  methods: {\n    mouseDown() {//TODO: 팝업메뉴를 띄워줌\n    },\n\n    closePopup() {//TODO: 팝업메뉴를 닫아줌\n    }\n\n  },\n  watch: {\n    selectedDate: {\n      function() {\n        const accessToken = Cookies.get('access');\n        axios.post('emr/api/appointments', {\n          \"selectedDate\": this.selectedDate\n        }, {\n          withCredentials: true,\n          crossDomain: true,\n          credentials: \"access\",\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: \"Bearer \" + accessToken\n          }\n        }).then(response => {\n          console.log(response); //TODO: 진료일정 정보를 {환자명}/{항목명}/{시간}/{장소}/{시각} 형식으로 받아옴\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n\n    }\n  }\n};","map":{"version":3,"mappings":"AAiHA;AACA,gC,CAGA;;AACA;EACAA;IACA;MACAC,wBADA;MAEAC,cACA;QACAC,WADA;QAEAC,OAFA;QAGAC;MAHA,CADA,EAMA;QACAF,WADA;QAEAC,OAFA;QAGAC;MAHA,CANA,CAFA;MAcAC,WACA;QACAC,aADA;QAEAC,cAFA;QAGAC,qBAHA;QAIAC;MAJA,CADA,EAOA;QACAH,aADA;QAEAC,cAFA;QAGAC,qBAHA;QAIAC;MAJA,CAPA,CAdA;MA4BAC,YA5BA;MA6BAC,WA7BA;MA8BAC;IA9BA;EAgCA,CAlCA;;EAoCAC,SACA;IACA;IACA;EACA,CAxCA;;EA0CAC;IACAC,aACA;IACA,CAHA;;IAKAC,cACA;IACA;;EAPA,CA1CA;EAoDAC;IACAjB;MACAkB;QACA;QAEAC,mCACA;UACA;QADA,CADA,EAIA;UACAC,qBADA;UAEAC,iBAFA;UAGAC,qBAHA;UAIAC;YACA,kCADA;YAEAC;UAFA;QAJA,CAJA,EAaAC,IAbA,CAaAC;UACAC,sBADA,CAEA;QACA,CAhBA,EAiBAC,KAjBA,CAiBAC;UACAF;QACA,CAnBA;MAoBA;;IAxBA;EADA;AApDA","names":["data","selectedDate","patientList","name","age","symptom","appoList","p_name","kind","time_at","room","popupLeft","popupTop","popupDisp","setup","methods","mouseDown","closePopup","watch","function","axios","withCredentials","crossDomain","credentials","headers","Authorization","then","response","console","catch","error"],"sourceRoot":"src/components","sources":["EmrPatient.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"max-w-[64rem] mx-auto\">\n      <h1 class=\"text-3xl font-bold text-gray-900 dark:text-gray-300 mb-5 pb-5\n\t\t\t\t\tborder-gray-600 border-b\">\n        전자의무기록\n      </h1>\n      <div class=\"flex gap-10 justify-between\">\n        <!-- main -->\n        <div class=\"flex-1 min-w-[18rem] max-h-[42rem] border-r border-gray-600 pr-10 \n\t\t\t\ttext-gray-900 dark:text-gray-300 flex flex-col gap-5\">\n          <nav id=\"mainNav\" class=\"flex items-center bg-gray-900 rounded-xl p-1 \n\t\t\t\t\t\t\t\t\t\t\t\tborder border-gray-600\">\n            <button outlined class=\"text-white bg-blue-700 hover:bg-blue-800 \n\t\t\t\t\t\t\t\tfocus:ring-4 focus:outline-none focus:ring-blue-300 font-medium \n\t\t\t\t\t\t\t\trounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 \n\t\t\t\t\t\t\t\tdark:hover:bg-blue-700 dark:focus:ring-blue-800\">\n              신규예약 생성\n            </button>\n          </nav>\n          <div class=\"bg-gray-900 rounded-lg text-gray-900 border \n\t\t\t\t\t\t\t\t\tborder-gray-600 dark:text-gray-300 shadow-inner overflow-y-scroll  \n\t\t\t\t\t\t\t\t\toverscroll-none scrollbar-hide relative\">\n            <div class=\"text-xl font-semibold text-gray-900 dark:text-white sticky top-0 p-2\n\t\t\t\t\t\t\t\tbg-[#303030A0]\">\n              {{selectedDate.getMonth() + 1}}월 {{selectedDate.getDate()}}일 진료일정\n            </div>\n            <div class=\"p-5 m-5 bg-gray-50 rounded-lg border border-gray-100 dark:bg-gray-800 dark:border-gray-700\">\n              <time class=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                오전\n              </time>\n              <ol class=\"mt-3 divide-y divider-gray-200 dark:divide-gray-700\">\n                <li v-for=\"appo in appoList\" :key=\"appo.id\" @mouseleave=\"closePopup\" @mousedown=\"mouseDown\">\n                  <a href=\"#\" class=\"block items-center p-3 sm:flex hover:bg-gray-100 dark:hover:bg-gray-700\">\n                    <div class=\"text-gray-600 dark:text-gray-400\">\n                      <div class=\"text-base font-normal\">\n                        <span class=\"font-bold rounded text-gray-900 dark:text-white bg-green-800 p-1\">\n                          {{appo.p_name}}</span>\n                        님의\n                        <span class=\"font-medium text-gray-900 dark:text-white\">\n                          {{appo.kind}}</span>\n                        (이)가\n                        <span class=\"font-medium text-gray-900 dark:text-white\">\n                          {{appo.time_at}}</span>\n                        에 예정되어 있습니다.\n                      </div>\n                      <div class=\"text-sm font-normal\">{{appo.room}} / {{appo.time_at}} ~ {{appo.time_at}}</div>\n                      <span class=\"inline-flex items-center text-xs font-normal text-gray-500 dark:text-gray-400\">\n                        {{appo.time_at}}</span>\n                    </div>\n                  </a>\n                </li>\n              </ol>\n            </div>\n            <div class=\"p-5 m-5 bg-gray-50 rounded-lg border border-gray-100 dark:bg-gray-800 dark:border-gray-700\">\n              <time class=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                오후\n              </time>\n              <ol class=\"mt-3 divide-y divider-gray-200 dark:divide-gray-700\">\n                <li>\n                  <a href=\"#\" class=\"block items-center p-3 sm:flex hover:bg-gray-100 dark:hover:bg-gray-700\">\n                    <div class=\"text-gray-600 dark:text-gray-400\">\n                      <div class=\"text-base font-normal\">\n                        <span class=\"font-bold rounded text-gray-900 dark:text-white bg-green-800 p-1\">\n                          {환자명}</span>\n                        님의\n                        <span class=\"font-medium text-gray-900 dark:text-white\">\n                          {항목명}</span>\n                        (이)가\n                        <span class=\"font-medium text-gray-900 dark:text-white\">\n                          {시간}</span>\n                        에 예정되어 있습니다.\n                      </div>\n                      <div class=\"text-sm font-normal\">OOO호 병동 / 오전 10시 00분 ~ 오전 10시 20분</div>\n                      <span class=\"inline-flex items-center text-xs font-normal text-gray-500 dark:text-gray-400\">\n                        1시간 후</span>\n                    </div>\n                  </a>\n                </li>\n              </ol>\n            </div>\n          </div>\n        </div>\n        <!-- sidebar -->\n        <div class=\"flex flex-col gap-5 max-h-[42rem]\">\n          <vc-date-picker v-model='selectedDate' title-position=\"left\" is-dark />\n          <div class=\"overflow-y-scroll scrollbar-hide overscroll-none w-[250px] text-gray-900 \n\t\t\t\t\t\t\tdark:text-gray-300 border-r border-gray-600 border rounded-lg\">\n            <div class=\"text-sm font-semibold text-gray-900 dark:text-white sticky top-0 p-2\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbg-[#303030A0]\">\n              {{selectedDate.getMonth() + 1}}월 담당 환자목록\n            </div>\n            <div class=\"flex flex-col max-w-md m-4 divide-gray-200 dark:divide-gray-700 gap-4\">\n              <div v-for=\"patient in patientList\" :key=\"patient.id\"\n                class=\"flex items-center space-x-4 border-b border-gray-600 pb-4\">\n                <div class=\"flex-1 min-w-0\">\n                  <p class=\"text-sm font-medium text-gray-900 truncate dark:text-white\">\n                    {{patient.name}} ({{patient.age}}세)\n                  </p>\n                  <p class=\"text-sm text-gray-500 truncate dark:text-gray-400\">\n                    {{patient.symptom}}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n  \n<script>\nimport axios from 'axios'\nimport Cookies from 'js-cookie'\n\n\n// https://vcalendar.io/installation.html\nexport default {\n  data() {\n    return {\n      selectedDate: new Date(),\n      patientList: [\n        {\n          name: '김철수',\n          age: 30,\n          symptom: '피로, 두통, 발열',\n        },\n        {\n          name: '이영희',\n          age: 40,\n          symptom: '피로, 두통, 발열',\n        }\n      ],\n      appoList: [\n        {\n          p_name: '김철수',\n          kind: '진료(초진)',\n          time_at: '오전 10시 00분',\n          room: '412호 병동',\n        },\n        {\n          p_name: '이영희',\n          kind: '진료(재진)',\n          time_at: '오전 10시 30분',\n          room: '412호 병동',\n        }\n      ],\n      popupLeft: 0,\n      popupTop: 0,\n      popupDisp: false,\n    }\n  },\n\n  setup() {\n    // function hi(e) {\n    // \t//TODO: https://leestrument.tistory.com/entry/%ED%81%B4%EB%A6%AD%ED%95%9C-%EC%9C%84%EC%B9%98%EC%97%90-%EC%9A%94%EC%86%8C-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0\n    // }\n  },\n\n  methods: {\n    mouseDown() {\n      //TODO: 팝업메뉴를 띄워줌\n    },\n\n    closePopup() {\n      //TODO: 팝업메뉴를 닫아줌\n    }\n  },\n\n  watch: {\n    selectedDate: {\n      function() {\n        const accessToken = Cookies.get('access');\n\n        axios.post('emr/api/appointments',\n          {\n            \"selectedDate\": this.selectedDate\n          },\n          {\n            withCredentials: true,\n            crossDomain: true,\n            credentials: \"access\",\n            headers: {\n              'Content-Type': 'application/json',\n              Authorization: \"Bearer \" + accessToken\n            }\n          })\n          .then(response => {\n            console.log(response)\n            //TODO: 진료일정 정보를 {환자명}/{항목명}/{시간}/{장소}/{시각} 형식으로 받아옴\n          })\n          .catch(error => {\n            console.log(error)\n          })\n      }\n    }\n  }\n};\n</script>\n  \n<style lang=\"scss\" scoped>\n#box {\n\n  position: absolute;\n  left: 20px;\n  top: 20px;\n  width: 80%;\n  height: 80%;\n  background-color: darkgreen;\n  overflow: hidden;\n\n}\n\n.box-child {\n\n  box-sizing: border-box;\n  position: absolute;\n  background-color: red;\n\n}\n\n.box-child:hover {\n\n  border: 2px solid white;\n\n}\n</style>\n  "]},"metadata":{},"sourceType":"module"}