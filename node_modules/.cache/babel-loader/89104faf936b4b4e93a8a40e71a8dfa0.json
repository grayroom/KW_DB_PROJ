{"ast":null,"code":"import axios from 'axios';\nimport Cookies from 'js-cookie'; // https://vcalendar.io/installation.html\n\nexport default {\n  data() {\n    return {\n      selectedDate: new Date(),\n      patientList: [{\n        name: '김철수',\n        age: 30,\n        symptom: '피로, 두통, 발열'\n      }, {\n        name: '이영희',\n        age: 40,\n        symptom: '피로, 두통, 발열'\n      }],\n      appoList: [{\n        p_name: '김철수',\n        kind: '진료(초진)',\n        time_at: '오전 10시 00분',\n        room: '412호 병동'\n      }, {\n        p_name: '이영희',\n        kind: '진료(재진)',\n        time_at: '오전 10시 30분',\n        room: '412호 병동'\n      }],\n      popupLeft: 0,\n      popupTop: 0,\n      popupDisp: false\n    };\n  },\n\n  setup() {\n    function mouseDown(e) {\n      this.popupDisp = true;\n      this.left = e.offsetX + 'px';\n      this.top = e.offsetY + 'px';\n    }\n\n    return {\n      mouseDown\n    };\n  },\n\n  watch: {\n    selectedDate: {\n      function() {\n        const accessToken = Cookies.get('access');\n        axios.post('emr/api/appointments', {\n          \"selectedDate\": this.selectedDate\n        }, {\n          withCredentials: true,\n          crossDomain: true,\n          credentials: \"access\",\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: \"Bearer \" + accessToken\n          }\n        }).then(response => {\n          console.log(response); //TODO: 진료일정 정보를 {환자명}/{항목명}/{시간}/{장소}/{시각} 형식으로 받아옴\n        }).catch(error => {\n          console.log(error);\n        });\n      }\n\n    }\n  }\n};","map":{"version":3,"mappings":"AAiHA;AACA,gC,CAGA;;AACA;EACAA;IACA;MACAC,wBADA;MAEAC,cACA;QACAC,WADA;QAEAC,OAFA;QAGAC;MAHA,CADA,EAMA;QACAF,WADA;QAEAC,OAFA;QAGAC;MAHA,CANA,CAFA;MAcAC,WACA;QACAC,aADA;QAEAC,cAFA;QAGAC,qBAHA;QAIAC;MAJA,CADA,EAOA;QACAH,aADA;QAEAC,cAFA;QAGAC,qBAHA;QAIAC;MAJA,CAPA,CAdA;MA4BAC,YA5BA;MA6BAC,WA7BA;MA8BAC;IA9BA;EAgCA,CAlCA;;EAoCAC;IACA;MACA;MACA;MACA;IACA;;IAEA;MAAAC;IAAA;EACA,CA5CA;;EA8CAC;IACAf;MACAgB;QACA;QAEAC,mCACA;UACA;QADA,CADA,EAIA;UACAC,qBADA;UAEAC,iBAFA;UAGAC,qBAHA;UAIAC;YACA,kCADA;YAEAC;UAFA;QAJA,CAJA,EAaAC,IAbA,CAaAC;UACAC,sBADA,CAEA;QACA,CAhBA,EAiBAC,KAjBA,CAiBAC;UACAF;QACA,CAnBA;MAoBA;;IAxBA;EADA;AA9CA","names":["data","selectedDate","patientList","name","age","symptom","appoList","p_name","kind","time_at","room","popupLeft","popupTop","popupDisp","setup","mouseDown","watch","function","axios","withCredentials","crossDomain","credentials","headers","Authorization","then","response","console","catch","error"],"sourceRoot":"src/components","sources":["MainPage.vue"],"sourcesContent":["<template>\n\t<div>\n\t\t<div class=\"max-w-[64rem] mx-auto\">\n\t\t\t<h1 v-if=\"popupDisp\" class=\"text-3xl font-bold text-gray-900 dark:text-gray-300 mb-5 pb-5\n\t\t\t\t\tborder-gray-600 border-b\">\n\t\t\t\t전자의무기록\n\t\t\t</h1>\n\t\t\t<div class=\"flex gap-10 justify-between\">\n\t\t\t\t<!-- main -->\n\t\t\t\t<div class=\"flex-1 min-w-[18rem] max-h-[42rem] border-r border-gray-600 pr-10 \n\t\t\t\ttext-gray-900 dark:text-gray-300 flex flex-col gap-5\">\n\t\t\t\t\t<nav id=\"mainNav\" class=\"flex items-center bg-gray-900 rounded-xl p-1 \n\t\t\t\t\t\t\t\t\t\t\t\tborder border-gray-600\">\n\t\t\t\t\t\t<button outlined class=\"text-white bg-blue-700 hover:bg-blue-800 \n\t\t\t\t\t\t\t\tfocus:ring-4 focus:outline-none focus:ring-blue-300 font-medium \n\t\t\t\t\t\t\t\trounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 \n\t\t\t\t\t\t\t\tdark:hover:bg-blue-700 dark:focus:ring-blue-800\">\n\t\t\t\t\t\t\t신규예약 생성\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</nav>\n\t\t\t\t\t<div class=\"bg-gray-900 rounded-lg text-gray-900 border \n\t\t\t\t\t\t\t\t\tborder-gray-600 dark:text-gray-300 shadow-inner overflow-y-scroll  \n\t\t\t\t\t\t\t\t\toverscroll-none scrollbar-hide relative\">\n\t\t\t\t\t\t<div class=\"text-xl font-semibold text-gray-900 dark:text-white sticky top-0 p-2\n\t\t\t\t\t\t\t\tbg-[#303030A0]\">\n\t\t\t\t\t\t\t{{selectedDate.getMonth() + 1}}월 {{selectedDate.getDate()}}일 진료일정\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"p-5 m-5 bg-gray-50 rounded-lg border border-gray-100 dark:bg-gray-800 dark:border-gray-700\">\n\t\t\t\t\t\t\t<time class=\"text-lg font-semibold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t오전\n\t\t\t\t\t\t\t</time>\n\t\t\t\t\t\t\t<ol class=\"mt-3 divide-y divider-gray-200 dark:divide-gray-700\">\n\t\t\t\t\t\t\t\t<li v-for=\"appo in appoList\" :key=\"appo.id\">\n\t\t\t\t\t\t\t\t\t<a href=\"#\" class=\"block items-center p-3 sm:flex hover:bg-gray-100 dark:hover:bg-gray-700\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"text-base font-normal\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"font-bold rounded text-gray-900 dark:text-white bg-green-800 p-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{appo.p_name}}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t님의\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"font-medium text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{appo.kind}}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t(이)가\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"font-medium text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{appo.time_at}}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t에 예정되어 있습니다.\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"text-sm font-normal\">{{appo.room}} / {{appo.time_at}} ~ {{appo.time_at}}</div>\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"inline-flex items-center text-xs font-normal text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t{{appo.time_at}}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"p-5 m-5 bg-gray-50 rounded-lg border border-gray-100 dark:bg-gray-800 dark:border-gray-700\">\n\t\t\t\t\t\t\t<time class=\"text-lg font-semibold text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t오후\n\t\t\t\t\t\t\t</time>\n\t\t\t\t\t\t\t<ol class=\"mt-3 divide-y divider-gray-200 dark:divide-gray-700\">\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<a href=\"#\" class=\"block items-center p-3 sm:flex hover:bg-gray-100 dark:hover:bg-gray-700\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-gray-600 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"text-base font-normal\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"font-bold rounded text-gray-900 dark:text-white bg-green-800 p-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{환자명}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t님의\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"font-medium text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{항목명}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t(이)가\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"font-medium text-gray-900 dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{시간}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t에 예정되어 있습니다.\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"text-sm font-normal\">OOO호 병동 / 오전 10시 00분 ~ 오전 10시 20분</div>\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"inline-flex items-center text-xs font-normal text-gray-500 dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t\t\t1시간 후</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<!-- sidebar -->\n\t\t\t\t<div class=\"flex flex-col gap-5 max-h-[42rem]\">\n\t\t\t\t\t<vc-date-picker v-model='selectedDate' title-position=\"left\" is-dark />\n\t\t\t\t\t<div class=\"overflow-y-scroll scrollbar-hide overscroll-none w-[250px] text-gray-900 \n\t\t\t\t\t\t\tdark:text-gray-300 border-r border-gray-600 border rounded-lg\">\n\t\t\t\t\t\t<div class=\"text-sm font-semibold text-gray-900 dark:text-white sticky top-0 p-2\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbg-[#303030A0]\">\n\t\t\t\t\t\t\t{{selectedDate.getMonth() + 1}}월 담당 환자목록\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex flex-col max-w-md m-4 divide-gray-200 dark:divide-gray-700 gap-4\">\n\t\t\t\t\t\t\t<div v-for=\"patient in patientList\" :key=\"patient.id\"\n\t\t\t\t\t\t\t\tclass=\"flex items-center space-x-4 border-b border-gray-600 pb-4\">\n\t\t\t\t\t\t\t\t<div class=\"flex-1 min-w-0\">\n\t\t\t\t\t\t\t\t\t<p class=\"text-sm font-medium text-gray-900 truncate dark:text-white\">\n\t\t\t\t\t\t\t\t\t\t{{patient.name}} ({{patient.age}}세)\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p class=\"text-sm text-gray-500 truncate dark:text-gray-400\">\n\t\t\t\t\t\t\t\t\t\t{{patient.symptom}}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n  \n<script>\nimport axios from 'axios'\nimport Cookies from 'js-cookie'\n\n\n// https://vcalendar.io/installation.html\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tselectedDate: new Date(),\n\t\t\tpatientList: [\n\t\t\t\t{\n\t\t\t\t\tname: '김철수',\n\t\t\t\t\tage: 30,\n\t\t\t\t\tsymptom: '피로, 두통, 발열',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '이영희',\n\t\t\t\t\tage: 40,\n\t\t\t\t\tsymptom: '피로, 두통, 발열',\n\t\t\t\t}\n\t\t\t],\n\t\t\tappoList: [\n\t\t\t\t{\n\t\t\t\t\tp_name: '김철수',\n\t\t\t\t\tkind: '진료(초진)',\n\t\t\t\t\ttime_at: '오전 10시 00분',\n\t\t\t\t\troom: '412호 병동',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tp_name: '이영희',\n\t\t\t\t\tkind: '진료(재진)',\n\t\t\t\t\ttime_at: '오전 10시 30분',\n\t\t\t\t\troom: '412호 병동',\n\t\t\t\t}\n\t\t\t],\n\t\t\tpopupLeft: 0,\n\t\t\tpopupTop: 0,\n\t\t\tpopupDisp: false,\n\t\t}\n\t},\n\n\tsetup() {\n\t\tfunction mouseDown(e) {\n\t\t\tthis.popupDisp = true\n\t\t\tthis.left = e.offsetX + 'px'\n\t\t\tthis.top = e.offsetY + 'px'\n\t\t}\n\n\t\treturn { mouseDown }\n\t},\n\n\twatch: {\n\t\tselectedDate: {\n\t\t\tfunction() {\n\t\t\t\tconst accessToken = Cookies.get('access');\n\n\t\t\t\taxios.post('emr/api/appointments',\n\t\t\t\t\t{\n\t\t\t\t\t\t\"selectedDate\": this.selectedDate\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\twithCredentials: true,\n\t\t\t\t\t\tcrossDomain: true,\n\t\t\t\t\t\tcredentials: \"access\",\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t\tAuthorization: \"Bearer \" + accessToken\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\tconsole.log(response)\n\t\t\t\t\t\t//TODO: 진료일정 정보를 {환자명}/{항목명}/{시간}/{장소}/{시각} 형식으로 받아옴\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n  \n<style lang=\"scss\" scoped>\n#box {\n\n\tposition: absolute;\n\tleft: 20px;\n\ttop: 20px;\n\twidth: 80%;\n\theight: 80%;\n\tbackground-color: darkgreen;\n\toverflow: hidden;\n\n}\n\n.box-child {\n\n\tbox-sizing: border-box;\n\tposition: absolute;\n\tbackground-color: red;\n\n}\n\n.box-child:hover {\n\n\tborder: 2px solid white;\n\n}\n</style>\n  "]},"metadata":{},"sourceType":"module"}