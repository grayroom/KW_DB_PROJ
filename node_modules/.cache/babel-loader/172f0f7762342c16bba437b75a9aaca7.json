{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"BoardPage\",\n\n  data() {\n    return {\n      articleList: [{\n        post_idx: 1,\n        title: \"삼성전자 80층 구조대 언제 도착하나요?\",\n        stock_code: \"삼성전자\",\n        topic: \"주식토론\",\n        views: 100\n      }],\n      pageLookup: {\n        bottom: 1,\n        cur: this.$route.params.page,\n        top: 5\n      },\n      filterStockCode: this.$route.params.stock,\n      hotStockList: [{\n        stockCode: \"005930\",\n        name: '삼성전자'\n      }, {\n        stockCode: \"005380\",\n        name: '현대차'\n      }]\n    };\n  },\n\n  mounted() {\n    axios.get('/api/stock/hot-stocks').then(response => {\n      this.hotStockList = response.data;\n    }).catch(error => {\n      console.log(error);\n    });\n    this.getArticleList(this.$route.params.stock, this.$route.params.page);\n  },\n\n  methods: {\n    reload() {\n      window.location.reload();\n    },\n\n    // TODO:\n    getArticleList(stockIdx = 0, p = 1) {\n      axios.post('/api/article/list', {\n        page: p,\n        stock_code: stockIdx,\n        // 0: 전체, other : stockIdx\n        orderBy: 'date'\n      }).then(response => {\n        this.articleList = response.data.articleList;\n        this.pageLookup = response.data.pageLookup;\n        console.log(this.articleList);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA2GA;AAEA;EACAA,iBADA;;EAGAC;IACA;MACAC,cACA;QACAC,WADA;QAEAC,+BAFA;QAGAC,kBAHA;QAIAC,aAJA;QAKAC;MALA,CADA,CADA;MAWAC;QACAC,SADA;QAEAC,4BAFA;QAGAC;MAHA,CAXA;MAiBAC,yCAjBA;MAmBAC,eACA;QACAC,mBADA;QAEAd;MAFA,CADA,EAKA;QACAc,mBADA;QAEAd;MAFA,CALA;IAnBA;EA8BA,CAlCA;;EAoCAe;IACAC,mCACAC,IADA,CACAC;MACA;IACA,CAHA,EAIAC,KAJA,CAIAC;MACAC;IACA,CANA;IAQA;EACA,CA9CA;;EAgDAC;IACAC;MACAC;IACA,CAHA;;IAKA;IACAC;MACAT,gCACA;QACAU,OADA;QAEArB,oBAFA;QAEA;QACAsB;MAHA,CADA,EAMAV,IANA,CAMAC;QACA;QACA;QACAG;MACA,CAVA,EAWAF,KAXA,CAWAC;QACAC;MACA,CAbA;IAcA;;EArBA;AAhDA","names":["name","data","articleList","post_idx","title","stock_code","topic","views","pageLookup","bottom","cur","top","filterStockCode","hotStockList","stockCode","mounted","axios","then","response","catch","error","console","methods","reload","window","getArticleList","page","orderBy"],"sourceRoot":"src/components","sources":["BoardPage.vue"],"sourcesContent":["<template>\n  <div class='max-w-[48rem] min-w-[18rem] mx-auto'>\n    <div id=\"filterContainer\" class=\"pb-5\">\n      <router-link :to=\"{name: 'board', params: {page: 1, stock: stock.stockCode}}\" v-for=\"stock in hotStockList\" :key=\"stock.code\" v-on:click=\"reload()\">\n        <button type=\"button\"\n              class=\"text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2\">\n          {{ stock.name }}\n        </button>\n      </router-link>\n    </div>\n    <div class=\"overflow-x-auto relative shadow-md sm:rounded-lg border border-gray-300\">\n      <table class=\"w-full text-sm text-left text-gray-500 dark:text-gray-400\">\n        <thead class=\"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400\">\n        <tr>\n          <th scope=\"col\" class=\"py-3 px-6\">\n            제목\n          </th>\n          <th scope=\"col\" class=\"py-3 px-6\">\n            <div class=\"flex items-center\">\n              종목\n              <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"ml-1 w-3 h-3\" aria-hidden=\"true\" fill=\"currentColor\" viewBox=\"0 0 320 512\"><path d=\"M27.66 224h264.7c24.6 0 36.89-29.78 19.54-47.12l-132.3-136.8c-5.406-5.406-12.47-8.107-19.53-8.107c-7.055 0-14.09 2.701-19.45 8.107L8.119 176.9C-9.229 194.2 3.055 224 27.66 224zM292.3 288H27.66c-24.6 0-36.89 29.77-19.54 47.12l132.5 136.8C145.9 477.3 152.1 480 160 480c7.053 0 14.12-2.703 19.53-8.109l132.3-136.8C329.2 317.8 316.9 288 292.3 288z\"/></svg>\n            </div>\n          </th>\n          <th scope=\"col\" class=\"py-3 px-6\">\n            <div class=\"flex items-center\">\n              주제\n              <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"ml-1 w-3 h-3\" aria-hidden=\"true\" fill=\"currentColor\" viewBox=\"0 0 320 512\"><path d=\"M27.66 224h264.7c24.6 0 36.89-29.78 19.54-47.12l-132.3-136.8c-5.406-5.406-12.47-8.107-19.53-8.107c-7.055 0-14.09 2.701-19.45 8.107L8.119 176.9C-9.229 194.2 3.055 224 27.66 224zM292.3 288H27.66c-24.6 0-36.89 29.77-19.54 47.12l132.5 136.8C145.9 477.3 152.1 480 160 480c7.053 0 14.12-2.703 19.53-8.109l132.3-136.8C329.2 317.8 316.9 288 292.3 288z\"/></svg>\n            </div>\n          </th>\n          <th scope=\"col\" class=\"py-3 px-6\">\n            <div class=\"flex items-center\">\n              조회수\n              <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"ml-1 w-3 h-3\" aria-hidden=\"true\" fill=\"currentColor\" viewBox=\"0 0 320 512\"><path d=\"M27.66 224h264.7c24.6 0 36.89-29.78 19.54-47.12l-132.3-136.8c-5.406-5.406-12.47-8.107-19.53-8.107c-7.055 0-14.09 2.701-19.45 8.107L8.119 176.9C-9.229 194.2 3.055 224 27.66 224zM292.3 288H27.66c-24.6 0-36.89 29.77-19.54 47.12l132.5 136.8C145.9 477.3 152.1 480 160 480c7.053 0 14.12-2.703 19.53-8.109l132.3-136.8C329.2 317.8 316.9 288 292.3 288z\"/></svg>\n            </div>\n          </th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr class=\"bg-white border-b dark:bg-gray-800 dark:border-gray-700\" v-for=\"atc in articleList\"\n            v-bind:key=\"atc.post_idx\">\n            <th scope=\"row\" class=\"py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white\">\n              <router-link :to=\"{path: '/board/article/viewer/' + atc.post_idx}\">\n                {{atc.title}}\n              </router-link>\n            </th>\n            <td class=\"py-4 px-6\">\n              {{ atc.stock_code }}\n            </td>\n            <td class=\"py-4 px-6\">\n              {{ atc.topic }}\n            </td>\n            <td class=\"py-4 px-6\">\n              {{ atc.views }}\n            </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n    <div id=\"toolbar\" class=\"pt-5 flex justify-between\">\n      <button\n          class=\"relative inline-flex items-center justify-center p-0.5 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-purple-600 to-blue-500 group-hover:from-purple-600 group-hover:to-blue-500 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800\">\n        <span class=\"relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0\">\n          <router-link to=\"/board/article/editor\">\n            글쓰기\n          </router-link>\n        </span>\n      </button>\n\n      <nav aria-label=\"Page navigation example\"\n           class=\"p-0.5 bg-gradient-to-br from-purple-600 to-blue-500 rounded-lg\" v-on:click=\"reload()\">\n        <ul class=\"inline-flex -space-x-px\">\n          <li class=\"py-2\">\n            <router-link :to=\"{name: 'board', params: {page: pageLookup.cur - 1, stock: filterStockCode}}\"\n                         v-if=\"pageLookup.cur > pageLookup.bottom\"\n                         class=\"px-3 py-2.5 leading-tight text-gray-500 border border-gray-300 rounded-l-lg hover:bg-opacity-0 hover:border-opacity-0 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:text-white\">Next</router-link>\n\n            <a v-else\n               class=\"px-3 py-2.5 leading-tight text-gray-500 border border-gray-300 rounded-l-lg hover:bg-opacity-0 hover:border-opacity-0 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:text-white\">Next</a>\n          </li>\n\n          <li class=\"py-2\" v-for=\"p_idx in pageLookup.top - pageLookup.bottom + 1\" v-bind:key=\"p_idx\">\n            <router-link :to=\"{name: 'board', params: {page: p_idx + pageLookup.bottom - 1, stock: filterStockCode}}\" v-if=\"pageLookup.cur == p_idx + pageLookup.bottom - 1\"\n               class=\"px-3 py-2.5 leading-tight text-white bg-opacity-0 hover:border-opacity-0 hover:text-gray-700\">\n              {{ p_idx + pageLookup.bottom - 1 }}\n            </router-link>\n            <router-link :to=\"{name: 'board', params: {page: p_idx + pageLookup.bottom - 1, stock: filterStockCode}}\" v-else\n               class=\"px-3 py-2.5 leading-tight text-gray-500 border border-gray-300 hover:bg-opacity-0 hover:border-opacity-0 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:text-white\">\n              {{ p_idx + pageLookup.bottom - 1 }}\n            </router-link>\n          </li>\n\n          <li class=\"py-2\">\n            <router-link :to=\"{name: 'board', params: {page: pageLookup.cur + 1, stock: filterStockCode}}\"\n                         v-if=\"pageLookup.cur < pageLookup.top\"\n                         class=\"px-3 py-2.5 leading-tight text-gray-500 border border-gray-300 rounded-r-lg hover:bg-opacity-0 hover:border-opacity-0 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:text-white\">Next</router-link>\n\n            <a v-else\n               class=\"px-3 py-2.5 leading-tight text-gray-500 border border-gray-300 rounded-r-lg hover:bg-opacity-0 hover:border-opacity-0 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:text-white\">Next</a>\n          </li>\n        </ul>\n      </nav>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"BoardPage\",\n\n  data() {\n    return {\n      articleList: [\n        {\n          post_idx: 1,\n          title: \"삼성전자 80층 구조대 언제 도착하나요?\",\n          stock_code: \"삼성전자\",\n          topic: \"주식토론\",\n          views: 100\n        }\n      ],\n\n      pageLookup: {\n        bottom: 1,\n        cur: this.$route.params.page,\n        top: 5\n      },\n\n      filterStockCode: this.$route.params.stock,\n\n      hotStockList: [\n        {\n          stockCode: \"005930\",\n          name: '삼성전자'\n        },\n        {\n          stockCode: \"005380\",\n          name: '현대차'\n        }\n      ]\n    }\n  },\n\n  mounted() {\n    axios.get('/api/stock/hot-stocks')\n      .then((response) => {\n        this.hotStockList = response.data;\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n\n    this.getArticleList(this.$route.params.stock, this.$route.params.page);\n  },\n\n  methods: {\n    reload() {\n      window.location.reload()\n    },\n\n    // TODO:\n    getArticleList(stockIdx=0, p=1) {\n      axios.post('/api/article/list',\n        {\n          page: p,\n          stock_code: stockIdx, // 0: 전체, other : stockIdx\n          orderBy: 'date'\n        })\n        .then((response) => {\n          this.articleList = response.data.articleList;\n          this.pageLookup = response.data.pageLookup;\n          console.log(this.articleList)\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"]},"metadata":{},"sourceType":"module"}