{"ast":null,"code":"import axios from 'axios'; // FIXME: 이동\n\nimport Cookies from 'js-cookie';\nexport default {\n  name: 'LoginPage',\n\n  data() {\n    return {\n      username: '',\n      password: ''\n    };\n  },\n\n  methods: {\n    login() {\n      let data = {\n        userId: 'test',\n        userName: 'test',\n        token: Cookies.get('connect.sid')\n      };\n      console.log(data);\n      this.$store.commit('login', data);\n      this.$router.push('/');\n      axios.post('/api/login/', {\n        \"id\": this.username,\n        \"pw\": this.password\n      }, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(res => {\n        if (res.status === 200) {\n          let data = {\n            userId: res.data.user_id,\n            userName: res.data.user_name,\n            token: Cookies.get('connect.sid')\n          };\n          console.log(data);\n          this.$store.commit('login', data);\n          this.$router.push('/');\n        }\n      }).catch(err => {\n        alert('로그인 실패');\n        console.log(err);\n\n        if (err.response.status === 400) {\n          console.log(JSON.stringify(err.response.data));\n        } else {\n          console.log('알수없는 에러입니다');\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAoDA,0B,CACA;;AACA;AAGA;EACAA,iBADA;;EAGAC;IACA;MACAC,YADA;MAEAC;IAFA;EAIA,CARA;;EAUAC;IACAC;MAEA;QACAC,cADA;QAEAC,gBAFA;QAGAC;MAHA;MAKAC;MACA;MACA;MAEAC,0BACA;QACA,mBADA;QAEA;MAFA,CADA,EAKA;QACAC;UACA;QADA;MADA,CALA,EAWAC,IAXA,CAWAC;QACA;UACA;YACAP,wBADA;YAEAC,4BAFA;YAGAC;UAHA;UAKAC;UACA;UACA;QACA;MACA,CAtBA,EAuBAK,KAvBA,CAuBAC;QACAC;QACAP;;QACA;UACAA;QACA,CAFA,MAEA;UACAA;QACA;MACA,CA/BA;IAgCA;;EA5CA;AAVA","names":["name","data","username","password","methods","login","userId","userName","token","console","axios","headers","then","res","catch","err","alert"],"sourceRoot":"src/components","sources":["LoginPage.vue"],"sourcesContent":["<template>\n  <section class=\"\">\n    <div class=\"flex flex-col items-center justify-center px-6 py-8 mx-auto lg:py-0\">\n      <div\n        class=\"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700\">\n        <div class=\"p-6 space-y-4 md:space-y-6 sm:p-8\">\n          <h1 class=\"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white\">\n            로그인\n          </h1>\n\n            <div>\n              <label for=\"username\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">\n                사용자 ID\n              </label>\n              <input type=\"username\" name=\"username\" id=\"username\"\n                class=\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n                placeholder=\"사용자 ID\" required=\"\" v-model=\"username\">\n            </div>\n            <div>\n              <label for=\"password\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">\n                비밀번호\n              </label>\n              <input type=\"password\" name=\"password\" id=\"password\" placeholder=\"••••••••\"\n                class=\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n                required=\"\" v-model=\"password\">\n            </div>\n            <div class=\"flex items-center justify-between\">\n              <a href=\"#\"\n                 class=\"text-sm font-medium text-primary-600 hover:underline dark:text-primary-500 dark:text-gray-400\">\n                비밀번호 찾기\n              </a>\n            </div>\n            <button\n              class=\"w-full text-white bg-blue-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800\"\n              @click=\"login\">\n              로그인\n            </button>\n            <p class=\"text-sm font-light text-gray-500 dark:text-gray-400\">\n              아직 계정이 없으시다면\n              <router-link to=\"/signup\"\n                           class=\"font-medium text-primary-600 hover:underline dark:text-primary-500\">\n                여기를 클릭\n              </router-link>\n            </p>\n\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport axios from 'axios'\n// FIXME: 이동\nimport Cookies from 'js-cookie'\n\n\nexport default {\n  name: 'LoginPage',\n\n  data() {\n    return {\n      username: '',\n      password: '',\n    };\n  },\n\n  methods: {\n    login() {\n\n      let data = {\n        userId: 'test',\n        userName: 'test',\n        token: Cookies.get('connect.sid')\n      }\n      console.log(data)\n      this.$store.commit('login', data);\n      this.$router.push('/');\n\n      axios.post('/api/login/',\n          {\n            \"id\": this.username,\n            \"pw\": this.password,\n          },\n          {\n          headers: {\n            'Content-Type': 'application/json',\n          }\n        }\n      )\n        .then((res) => {\n          if (res.status === 200) {\n            let data = {\n              userId: res.data.user_id,\n              userName: res.data.user_name,\n              token: Cookies.get('connect.sid')\n            }\n            console.log(data)\n            this.$store.commit('login', data);\n            this.$router.push('/');\n          }\n        })\n        .catch((err) => {\n          alert('로그인 실패');\n          console.log(err);\n          if (err.response.status === 400) {\n            console.log(JSON.stringify(err.response.data));\n          } else {\n            console.log('알수없는 에러입니다');\n          }\n        });\n    },\n  },\n};\n\n</script>\n\n<style>\n\n</style>\n"]},"metadata":{},"sourceType":"module"}