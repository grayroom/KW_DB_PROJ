{"ast":null,"code":"import \"core-js/modules/web.dom-exception.stack.js\";\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\naxios.defaults.headers.post['Content-Type'] = 'application/json;charset=utf-8';\naxios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\nexport default {\n  data() {\n    return {\n      category: \"clinic\",\n      patient_id: 0,\n      // 이거 목록 axios로 불러와야함. 담당환자들 전부다... \n      preliminary: \"\",\n      comment: \"\",\n      // NOTE: patient in charge\n      patientList: [{\n        patient_id: 0,\n        name: \"test\"\n      }, {\n        patient_id: 1,\n        name: \"test2\"\n      }]\n    };\n  },\n\n  created() {\n    const accessToken = Cookies.get('access');\n    const accessTokenJSON = JSON.parse(atob(accessToken.split('.')[1]));\n    axios.post('/emr/api/patient/in-charge', {\n      \"doctor_idx\": accessTokenJSON.user_id\n    }, {\n      withCredentials: true,\n      crossDomain: true,\n      credentials: \"access\",\n      headers: {\n        Authorization: \"Bearer \" + accessToken,\n        ContentType: \"application/json\"\n      }\n    }).then(res => {\n      this.patientList = res.data;\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n};","map":{"version":3,"mappings":";AA0DA;AACA;AAEAA;AACAA;AAEA;EAEAC;IACA;MACAC,kBADA;MAEAC,aAFA;MAEA;MACAC,eAHA;MAIAC,WAJA;MAMA;MACAC,cACA;QACAH,aADA;QAEAI;MAFA,CADA,EAKA;QACAJ,aADA;QAEAI;MAFA,CALA;IAPA;EAkBA,CArBA;;EAuBAC;IACA;IACA;IAEAR,yCACA;MACA;IADA,CADA,EAIA;MACAS,qBADA;MAEAC,iBAFA;MAGAC,qBAHA;MAIAC;QACAC,sCADA;QAEAC;MAFA;IAJA,CAJA,EAaAC,IAbA,CAaAC;MACA;IACA,CAfA,EAeAC,KAfA,CAeAC;MACAC;IACA,CAjBA;EAkBA;;AA7CA","names":["axios","data","category","patient_id","preliminary","comment","patientList","name","created","withCredentials","crossDomain","credentials","headers","Authorization","ContentType","then","res","catch","err","console"],"sourceRoot":"src/components","sources":["EmrAppointmentNew.vue"],"sourcesContent":["<template>\n\t<div class=\"gap-10 max-w-[64rem] sticky top-0\">\n\t\t<div class=\"text-gray-900 dark:text-gray-300 mb-5 pb-5\n\t\t\t\t\t\tborder-gray-600 border-b \">\n\t\t\t<p class=\"text-3xl font-bold\">New Appointment</p>\n\t\t</div>\n\t\t<div class=\"flex flex-col-reverse md:flex-row gap-10 overflow-y-scroll scrollbar-hide\">\n\t\t\t<!-- NOTE: emr viewer -->\n\t\t\t<div class=\"flex flex-1 flex-col p-5 rounded-lg md:min-w-[12rem] dark:bg-gray-900 border\n\t\t\t\t\t\t\t\t\tborder-gray-600\">\n\n\t\t\t\t<div class=\"grid md:grid-cols-2 gap-x-6\">\n\n\t\t\t\t\t<div class=\"relative z-0 mb-6 w-full group\">\n\t\t\t\t\t\t<label for=\"countries\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-400\">\n\t\t\t\t\t\t\tEmr Category\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<select id=\"category\" v-model=\"category\"\n\t\t\t\t\t\t\tclass=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\">\n\t\t\t\t\t\t\t<option value=\"clinic\">clinic</option>\n\t\t\t\t\t\t\t<option value=\"diagnosis\">diagnosis</option>\n\t\t\t\t\t\t\t<option value=\"test\">test</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"relative z-0 mb-6 w-full group\"><label for=\"countries\"\n\t\t\t\t\t\t\tclass=\"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-400\">\n\t\t\t\t\t\t\tPatient to be seen\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<select id=\"patient_id\" v-model=\"patient_id\"\n\t\t\t\t\t\t\tclass=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\">\n\t\t\t\t\t\t\t<option v-for=\"patient in patientList\" :value=\"patient.patient_id\" :key=\"patient.patient_id\">\n\t\t\t\t\t\t\t\t{{patient.name}}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<label for=\"pre_script\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">preliminary</label>\n\t\t\t\t<textarea id=\"pre_script\" rows=\"4\" v-model=\"preliminary\"\n\t\t\t\t\tclass=\"block p-2.5 mb-6 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:outline-none dark:bg-gray-800 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white\"\n\t\t\t\t\tplaceholder=\"preliminary examination\"></textarea>\n\n\t\t\t\t<label for=\"cur_script\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">comment</label>\n\t\t\t\t<textarea id=\"cur_script\" rows=\"4\" v-model=\"comment\"\n\t\t\t\t\tclass=\"block p-2.5 mb-6 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:outline-none dark:bg-gray-800 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white \"\n\t\t\t\t\tplaceholder=\"comment\"></textarea>\n\t\t\t\t<button\n\t\t\t\t\tclass=\"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\"\n\t\t\t\t\t@click=\"submitPrescript\">\n\t\t\t\t\tsubmit\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\n\naxios.defaults.headers.post['Content-Type'] = 'application/json;charset=utf-8';\naxios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\n\nexport default {\n\n\tdata() {\n\t\treturn {\n\t\t\tcategory: \"clinic\",\n\t\t\tpatient_id: 0, // 이거 목록 axios로 불러와야함. 담당환자들 전부다... \n\t\t\tpreliminary: \"\",\n\t\t\tcomment: \"\",\n\n\t\t\t// NOTE: patient in charge\n\t\t\tpatientList: [\n\t\t\t\t{\n\t\t\t\t\tpatient_id: 0,\n\t\t\t\t\tname: \"test\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tpatient_id: 1,\n\t\t\t\t\tname: \"test2\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t},\n\n\tcreated() {\n\t\tconst accessToken = Cookies.get('access');\n\t\tconst accessTokenJSON = JSON.parse(atob(accessToken.split('.')[1]));\n\n\t\taxios.post('/emr/api/patient/in-charge',\n\t\t\t{\n\t\t\t\t\"doctor_idx\": accessTokenJSON.user_id\n\t\t\t},\n\t\t\t{\n\t\t\t\twithCredentials: true,\n\t\t\t\tcrossDomain: true,\n\t\t\t\tcredentials: \"access\",\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: \"Bearer \" + accessToken,\n\t\t\t\t\tContentType: \"application/json\"\n\t\t\t\t}\n\t\t\t}\n\t\t).then((res) => {\n\t\t\tthis.patientList = res.data;\n\t\t}).catch((err) => {\n\t\t\tconsole.log(err);\n\t\t});\n\t}\n}\n\n</script>\n\n<style lang=\"scss\">\n\n</style>"]},"metadata":{},"sourceType":"module"}