{"ast":null,"code":"import Document from '@tiptap/extension-document';\nimport Paragraph from '@tiptap/extension-paragraph';\nimport Text from '@tiptap/extension-text';\nimport Placeholder from '@tiptap/extension-placeholder';\nimport { Editor, EditorContent } from '@tiptap/vue-2';\nimport HardBreak from '@tiptap/extension-hard-break';\nimport HorizontalRule from '@tiptap/extension-horizontal-rule';\nimport { v4 as uuidv4 } from 'uuid';\nimport axios from 'axios';\nimport { radioSelect as RadioSelect, dropdownSelect as DropdownSelect, editable as Editable } from './Extension.js';\nexport default {\n  components: {\n    EditorContent\n  },\n\n  data() {\n    return {\n      editor: null\n    };\n  },\n\n  mounted() {\n    this.editor = new Editor({\n      extensions: [Document, Paragraph, Text, RadioSelect, DropdownSelect, Editable, Placeholder.configure({\n        placeholder: '양식을 작성해주세요'\n      }), HardBreak, HorizontalRule]\n    });\n  },\n\n  methods: {\n    insertRadio() {\n      this.editor.commands.insertContent('<radio-select count = \"0\" na = ' + uuidv4() + // random and for unique name(radio button group)\n      '></radio-select><editable><p>항목명을 명시하세요</p></editable>');\n      this.editor.chain().focus().setHorizontalRule().run(); // this.editor.commands.setHardBreak()\n    },\n\n    insertDropdown() {\n      this.editor.commands.insertContent('<dropdown-select></dropdown-select><editable><p>항목명을 명시하세요</p></editable>');\n      this.editor.chain().focus().setHorizontalRule().run(); // this.editor.commands.setHardBreak()\n    },\n\n    insertHr() {\n      this.editor.chain().focus().setHorizontalRule().run();\n    },\n\n    // put editor data with axios\n    putData() {\n      axios.post('http://127.0.0.1:8000/templates/', {\n        content: this.editor.getJSON()\n      }, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        console.log(response);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n\n  },\n\n  beforeUnmount() {\n    this.editor.destroy();\n  }\n\n};","map":{"version":3,"mappings":"AAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA,SACAA,0BADA,EAEAC,gCAFA,EAGAC,oBAHA,QAIA,gBAJA;AAMA;EACAC;IACAC;EADA,CADA;;EAKAC;IACA;MACAC;IADA;EAGA,CATA;;EAWAC;IACA;MACAC,aACAC,QADA,EAEAC,SAFA,EAGAC,IAHA,EAIAC,WAJA,EAKAC,cALA,EAMAC,QANA,EAOAC;QACAC;MADA,EAPA,EAUAC,SAVA,EAWAC,cAXA;IADA;EAeA,CA3BA;;EA6BAC;IACAC;MACA,mCACA,oCACAC,QADA,GACA;MACA,wDAHA;MAIA,sDALA,CAMA;IACA,CARA;;IASAC;MACA,mCACA,2EADA;MAEA,sDAHA,CAIA;IACA,CAdA;;IAeAC;MACA;IACA,CAjBA;;IAmBA;IACAC;MACAC;QACAC;MADA,GAGA;QACAC;UACA;QADA;MADA,CAHA,EAQAC,IARA,CAQAC;QACAC;MACA,CAVA,EAWAC,KAXA,CAWAC;QACAF;MACA,CAbA;IAcA;;EAnCA,CA7BA;;EAmEAG;IACA;EACA;;AArEA","names":["radioSelect","dropdownSelect","editable","components","EditorContent","data","editor","mounted","extensions","Document","Paragraph","Text","RadioSelect","DropdownSelect","Editable","Placeholder","placeholder","HardBreak","HorizontalRule","methods","insertRadio","uuidv4","insertDropdown","insertHr","putData","axios","content","headers","then","response","console","catch","error","beforeUnmount"],"sourceRoot":"src/components","sources":["EmrEditor.vue"],"sourcesContent":["<template>\n  <div class=\"p-4 editor\">\n    <div class=\"editor__buttons--navbar mb-1 flex gap-1\">\n      <button outlined class=\"text-sm p-2 bg-gray-200 border border-gray-400 whitespace-nowrap\n      hover:bg-gray-300\" v-on:click=\"insertRadio\">\n        양성/음성 선택\n      </button>\n      <button outlined class=\"text-sm p-2 bg-gray-200 border border-gray-400 whitespace-nowrap\n      hover:bg-gray-300\" v-on:click=\"insertDropdown\">\n        목록 선택\n      </button>\n      <button outlined class=\"text-sm p-2 bg-gray-200 border border-gray-400 whitespace-nowrap\n      hover:bg-gray-300\">\n        일반텍스트\n      </button>\n      <button outlined class=\"text-sm p-2 bg-gray-200 border border-gray-400 whitespace-nowrap\n      hover:bg-gray-300\" v-on:click=\"insertHr\">\n        구분선 추가\n      </button>\n    </div>\n\n    <editor-content :editor=\"editor\" class=\"\" />\n\n    <div class=\"editor__buttons--footer mt-1 flex gap-1\">\n      <button outlined class=\"text-sm p-2 bg-gray-200 border border-gray-400 whitespace-nowrap\n      hover:bg-gray-300\" v-on:click=\"putData\">\n        제출\n      </button>\n    </div>\n\n    <!-- Button trigger modal -->\n    <button type=\"button\"\n      class=\"inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out\"\n      data-bs-toggle=\"modal\" data-bs-target=\"#staticBackdrop\">\n      Launch static backdrop modal\n    </button>\n\n    <div class=\"modal fade fixed top-0 left-0 hidden w-full h-full outline-none overflow-x-hidden overflow-y-auto\"\n      id=\"staticBackdrop\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\"\n      aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog relative w-auto pointer-events-none\">\n        <div\n          class=\"modal-content border-none shadow-lg relative flex flex-col w-full pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current\">\n          <div\n            class=\"modal-header flex flex-shrink-0 items-center justify-between p-4 border-b border-gray-200 rounded-t-md\">\n            <h5 class=\"text-xl font-medium leading-normal text-gray-800\" id=\"exampleModalLabel\">\n              Modal title\n            </h5>\n            <button type=\"button\"\n              class=\"btn-close box-content w-4 h-4 p-1 text-black border-none rounded-none opacity-50 focus:shadow-none focus:outline-none focus:opacity-100 hover:text-black hover:opacity-75 hover:no-underline\"\n              data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body relative p-4\">\n            ...\n          </div>\n          <div\n            class=\"modal-footer flex flex-shrink-0 flex-wrap items-center justify-end p-4 border-t border-gray-200 rounded-b-md\">\n            <button type=\"button\"\n              class=\"inline-block px-6 py-2.5 bg-purple-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-purple-700 hover:shadow-lg focus:bg-purple-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-purple-800 active:shadow-lg transition duration-150 ease-in-out\"\n              data-bs-dismiss=\"modal\">Close</button>\n            <button type=\"button\"\n              class=\"inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out ml-1\">Understood</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Document from '@tiptap/extension-document'\nimport Paragraph from '@tiptap/extension-paragraph'\nimport Text from '@tiptap/extension-text'\nimport Placeholder from '@tiptap/extension-placeholder'\nimport { Editor, EditorContent } from '@tiptap/vue-2'\nimport HardBreak from '@tiptap/extension-hard-break'\nimport HorizontalRule from '@tiptap/extension-horizontal-rule'\n\nimport { v4 as uuidv4 } from 'uuid'\nimport axios from 'axios'\n\nimport {\n  radioSelect as RadioSelect,\n  dropdownSelect as DropdownSelect,\n  editable as Editable\n} from './Extension.js'\n\nexport default {\n  components: {\n    EditorContent,\n  },\n\n  data() {\n    return {\n      editor: null,\n    }\n  },\n\n  mounted() {\n    this.editor = new Editor({\n      extensions: [\n        Document,\n        Paragraph,\n        Text,\n        RadioSelect,\n        DropdownSelect,\n        Editable,\n        Placeholder.configure({\n          placeholder: '양식을 작성해주세요',\n        }),\n        HardBreak,\n        HorizontalRule,\n      ]\n    })\n  },\n\n  methods: {\n    insertRadio() {\n      this.editor.commands.insertContent(\n        '<radio-select count = \"0\" na = ' +\n        uuidv4() + // random and for unique name(radio button group)\n        '></radio-select><editable><p>항목명을 명시하세요</p></editable>')\n      this.editor.chain().focus().setHorizontalRule().run()\n      // this.editor.commands.setHardBreak()\n    },\n    insertDropdown() {\n      this.editor.commands.insertContent(\n        '<dropdown-select></dropdown-select><editable><p>항목명을 명시하세요</p></editable>')\n      this.editor.chain().focus().setHorizontalRule().run()\n      // this.editor.commands.setHardBreak()\n    },\n    insertHr() {\n      this.editor.chain().focus().setHorizontalRule().run()\n    },\n\n    // put editor data with axios\n    putData() {\n      axios.post('http://127.0.0.1:8000/templates/', {\n        content: this.editor.getJSON()\n      },\n        {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        })\n        .then(response => {\n          console.log(response)\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    }\n  },\n\n  beforeUnmount() {\n    this.editor.destroy()\n  },\n}\n</script>\n\n<style lang=\"scss\">\nbutton {\n  line-break: nowrap;\n}\n\n/* Basic editor styles */\n.ProseMirror {\n  padding: 1rem;\n  border: 1px solid #94a3b8;\n  height: 100%;\n\n  >hr {\n    margin-top: 1rem;\n    margin-bottom: 1rem;\n  }\n}\n\n/* Basic editor styles */\n\n/* Placeholder (at the top) */\n.ProseMirror p.is-editor-empty:first-child::before {\n  content: attr(data-placeholder);\n  float: left;\n  color: #adb5bd;\n  pointer-events: none;\n  height: 0;\n}\n\nhr.ProseMirror-selectednode {\n  border-top: 1px solid #68CEF8;\n}\n</style>"]},"metadata":{},"sourceType":"module"}