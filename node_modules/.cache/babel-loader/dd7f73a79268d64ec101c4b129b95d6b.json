{"ast":null,"code":"import VJstree from 'vue-jstree';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\naxios.defaults.headers.post['Content-Type'] = 'application/json;charset=utf-8';\naxios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\nexport default {\n  components: {\n    VJstree\n  },\n\n  data() {\n    return {\n      data: []\n    };\n  },\n\n  beforeMount() {\n    var accessToken = Cookies.get('access');\n    axios.get('/emr/api/templates/', {\n      withCredentials: true,\n      crossDomain: true,\n      credentials: \"access\",\n      headers: {\n        // Authorization: \"Bearer \" + Cookies.get('access')\n        Authorization: accessToken\n      }\n    }).then(response => {\n      for (var template in response.data) {\n        this.data.push({\n          \"text\": response.data[template].file_name,\n          \"id\": response.data[template].id,\n          \"children\": [],\n          \"icon\": response.data[template].is_directory ? \"fa fa-folder\" : \"fa fa-file\"\n        });\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  },\n\n  methods: {\n    itemClick(node) {\n      console.log(node.model.text + ' clicked !');\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAOA;AACA;AACA;AAEAA;AACAA;AAGA;EACAC;IACAC;EADA,CADA;;EAIAC;IACA;MACAA;IADA;EAGA,CARA;;EAUAC;IACA;IAEAJ;MACAK,qBADA;MAEAC,iBAFA;MAGAC,qBAHA;MAIAC;QACA;QACAC;MAFA;IAJA,GASAC,IATA,CASAC;MACA;QACA;UACA,yCADA;UAEA,gCAFA;UAGA,cAHA;UAIA,+CACA,cADA,GACA;QALA;MAOA;IACA,CAnBA,EAoBAC,KApBA,CAoBAC;MACAC;IACA,CAtBA;EAuBA,CApCA;;EAsCAC;IACAC;MACAF;IACA;;EAHA;AAtCA","names":["axios","components","VJstree","data","beforeMount","withCredentials","crossDomain","credentials","headers","Authorization","then","response","catch","error","console","methods","itemClick"],"sourceRoot":"src/components","sources":["EmrTree.vue"],"sourcesContent":["<template>\n\t<div class=\"overflow-scroll p-4 dark:border-gray-500 h-40 md:h-full\">\n\t\t<v-jstree :data=\"data\" show-checkbox multiple allow-batch whole-row @item-click=\"itemClick\"></v-jstree>\n\t</div>\n</template>\n\n<script>\nimport VJstree from 'vue-jstree'\nimport axios from 'axios'\nimport Cookies from 'js-cookie'\n\naxios.defaults.headers.post['Content-Type'] = 'application/json;charset=utf-8';\naxios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\n\n\nexport default {\n\tcomponents: {\n\t\tVJstree,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdata: [],\n\t\t}\n\t},\n\n\tbeforeMount() {\n\t\tvar accessToken = Cookies.get('access')\n\n\t\taxios.get('/emr/api/templates/', {\n\t\t\twithCredentials: true,\n\t\t\tcrossDomain: true,\n\t\t\tcredentials: \"access\",\n\t\t\theaders: {\n\t\t\t\t// Authorization: \"Bearer \" + Cookies.get('access')\n\t\t\t\tAuthorization: accessToken\n\t\t\t}\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tfor (var template in response.data) {\n\t\t\t\t\tthis.data.push({\n\t\t\t\t\t\t\"text\": response.data[template].file_name,\n\t\t\t\t\t\t\"id\": response.data[template].id,\n\t\t\t\t\t\t\"children\": [],\n\t\t\t\t\t\t\"icon\": response.data[template].is_directory ?\n\t\t\t\t\t\t\t\"fa fa-folder\" : \"fa fa-file\",\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log(error)\n\t\t\t})\n\t},\n\n\tmethods: {\n\t\titemClick(node) {\n\t\t\tconsole.log(node.model.text + ' clicked !')\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n.fa-folder::before {\n\tcolor: #dbc056;\n}\n\n.fa::before {\n\tcolor: #ffc107;\n}\n\n.tree-ocl {\n\tcolor: 1px solid rgb(209 213 219);\n}\n\n.shadow-inner-white {\n\tbox-shadow: grey 0px -40px 40px -3em inset;\n}\n</style>"]},"metadata":{},"sourceType":"module"}