{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'AppNav',\n  methods: {\n    toggleMainMenu() {\n      this.$refs.mainMenu.toggleAttribute('aria-hidden');\n      this.$refs.mainMenu.classList.toggle('hidden');\n    },\n\n    toggleUserMenu() {\n      this.$refs.userMenu.toggleAttribute('aria-hidden');\n      this.$refs.userMenu.classList.toggle('hidden');\n    },\n\n    logout() {\n      axios.get('/api/logout').then(() => {\n        this.toggleUserMenu();\n        this.is_login = false;\n        this.$refs.username.innerHTML = \"ë¡œê·¸ì¸ í•´ì£¼ì„¸ìš”.\";\n        this.$store.commit('logout');\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    getJumpedStock() {\n      axios.get('/api/user/hober').then(res => {\n        this.leapUpList = res.data.upstock;\n        this.leapDownList = res.data.downstock;\n      });\n    },\n\n    closeAlert(e) {\n      // remove target alert from dom\n      e.target.closest('.hover-alert').remove();\n    },\n\n    getNewlyConfirmedList() {\n      axios.get('/api/user/stock/confirmed').then(res => {\n        this.newlyConfirmed.bought = res.data.buylist;\n        this.newlyConfirmed.sold = res.data.selllist;\n        console.log(this.newlyConfirmed);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    checkConfirmAlert(e) {\n      axios.post('/api/user/stock/confirmed/check/', {\n        order_idx: e.target.closest('.ml-auto').value,\n        order_type: e.target.closest('.ml-auto').getAttribute('order_type')\n      }).then(() => {\n        this.closeAlert(e);\n        this.getNewlyConfirmedList();\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n\n  },\n\n  created() {\n    this.getJumpedStock();\n    this.getNewlyConfirmedList();\n  },\n\n  data() {\n    return {\n      is_login: false,\n      is_admin: false,\n      leapUpList: [],\n      leapDownList: [],\n      newlyConfirmed: {\n        bought: [],\n        sold: []\n      }\n    };\n  },\n\n  watch: {\n    // TODO: í† í°ì´ ìˆë‹¤ë©´, í† í°ì´ ë§Œë£Œë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ê³ ,,, refresh tokenê¹Œì§€ ë§Œë£Œëœ ê²½ìš°ì—ëŠ”\n    // ë¡œê·¸ì•„ì›ƒì„ ì‹œí‚¤ê³ ,,, access tokenë§Œ ë§Œë£Œëœ ê²½ìš°ì—ëŠ” refresh tokenìœ¼ë¡œ access tokenì„ ì¬ë°œê¸‰ ë°›ì•„ì•¼í•¨\n    $route() {\n      this.is_login = false;\n\n      if (this.$store.getters.getUserId !== '') {\n        this.is_login = true;\n        this.$refs.username.innerHTML = this.$store.getters.getUserName;\n      }\n\n      console.log(this.$store.getters.getPermission);\n\n      if (this.$store.getters.getPermission === '2') {\n        this.is_admin = true;\n      }\n\n      this.$refs.userMenu.classList.add('hidden');\n      this.$refs.userMenu.setAttribute('aria-hidden', 'true');\n      this.getJumpedStock();\n      this.getNewlyConfirmedList();\n      this.$forceUpdate();\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA8KA;AAGA;EACAA,cADA;EAGAC;IACAC;MACA;MACA;IACA,CAJA;;IAKAC;MACA;MACA;IACA,CARA;;IASAC;MACAC,yBACAC,IADA,CACA;QACA;QACA;QACA;QACA;MACA,CANA,EAOAC,KAPA,CAOAC;QACAC;MACA,CATA;IAUA,CApBA;;IAqBAC;MACAL,6BACAC,IADA,CACAK;QACA;QACA;MACA,CAJA;IAKA,CA3BA;;IA4BAC;MACA;MACAC;IACA,CA/BA;;IAgCAC;MACAT,uCACAC,IADA,CACAK;QACA;QACA;QACAF;MACA,CALA,EAMAF,KANA,CAMAC;QACAC;MACA,CARA;IASA,CA1CA;;IA2CAM;MACAV;QACAW,6CADA;QAEAC;MAFA,GAIAX,IAJA,CAIA;QACA;QACA;MACA,CAPA,EAQAC,KARA,CAQAC;QACAC;MACA,CAVA;IAWA;;EAvDA,CAHA;;EA6DAS;IACA;IACA;EACA,CAhEA;;EAkEAC;IACA;MACAC,eADA;MAEAC,eAFA;MAGAC,cAHA;MAIAC,gBAJA;MAKAC;QACAC,UADA;QAEAC;MAFA;IALA;EAUA,CA7EA;;EA+EAC;IACA;IACA;IACAC;MACA;;MACA;QACA;QACA;MACA;;MAEAnB;;MACA;QACA;MACA;;MAEA;MACA;MAEA;MACA;MACA;IACA;;EArBA;AA/EA","names":["name","methods","toggleMainMenu","toggleUserMenu","logout","axios","then","catch","error","console","getJumpedStock","res","closeAlert","e","getNewlyConfirmedList","checkConfirmAlert","order_idx","order_type","created","data","is_login","is_admin","leapUpList","leapDownList","newlyConfirmed","bought","sold","watch","$route"],"sourceRoot":"src/components","sources":["AppNav.vue"],"sourcesContent":["<template>\n  <div>\n    <nav class=\"static bg-white border-gray-200 px-2 sm:px-4 py-2.5 dark:bg-gray-900 z-40 w-full border-b border-gray-500\">\n      <div class=\"container flex flex-wrap justify-between items-center mx-auto\">\n        <router-link to=\"/\" class=\"self-center text-xl font-semibold whitespace-nowrap dark:text-white\">\n          ğŸ“ˆ KW ì£¼ì‹ê±°ë˜ì†Œ\n        </router-link>\n        <div class=\"flex items-center md:order-2 gap-2\">\n          <button type=\"button\" @click=\"toggleMainMenu\"\n            class=\"inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg  md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600\">\n            <span class=\"sr-only\">Open main menu</span>\n            <svg class=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path fill-rule=\"evenodd\"\n                d=\"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z\"\n                clip-rule=\"evenodd\"></path>\n            </svg>\n            <svg class=\"hidden w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path fill-rule=\"evenodd\"\n                d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\n                clip-rule=\"evenodd\"></path>\n            </svg>\n          </button>\n          <button type=\"button\"\n            class=\"flex mr-3 text-sm bg-gray-800 rounded-full md:mr-0 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600\"\n            id=\"user-menu-button\" @click=\"toggleUserMenu\">\n            <span class=\"sr-only\">ìœ ì €ë©”ë‰´ ì—´ê¸°</span>\n            <svg class=\"w-8 h-8 p-1 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\n              xmlns=\"http://www.w3.org/2000/svg\">\n              <path fill-rule=\"evenodd\" d=\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\" clip-rule=\"evenodd\">\n              </path>\n            </svg>\n          </button>\n          <!-- Dropdown menu -->\n          <div\n            class=\"z-50 my-4 text-base list-none bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700 dark:divide-gray-600 hidden cursor-pointer select-none border border-gray-500\"\n            id=\"user-dropdown\" ref=\"userMenu\" aria-hidden=\"true\">\n            <div class=\"py-3 px-4\">\n              <span class=\"block font-bold text-gray-900 dark:text-white\" ref=\"username\">ë¡œê·¸ì¸ í•´ì£¼ì„¸ìš”.</span>\n            </div>\n            <ul v-if=\"is_login\" class=\"py-1\" aria-labelledby=\"user-menu-button\">\n              <li v-if=\"is_admin\">\n                <router-link to=\"/admin\"\n                             class=\"block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white\">\n                  ê´€ë¦¬ì\n                </router-link>\n              </li>\n              <li>\n                <router-link to=\"/mypage\"\n                  class=\"block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white\">\n                  ë§ˆì´í˜ì´ì§€\n                </router-link>\n              </li>\n              <li>\n                <a class=\"block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white\"\n                  @click=\"logout\">\n                  ë¡œê·¸ì•„ì›ƒ\n                </a>\n              </li>\n            </ul>\n            <ul v-else class=\"py-1\" aria-labelledby=\"user-menu-button\">\n              <li @click=\"toggleUserMenu\">\n                <router-link to=\"/login\"\n                  class=\"block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white\">\n                  ë¡œê·¸ì¸\n                </router-link>\n              </li>\n            </ul>\n          </div>\n        </div>\n        <div class=\"justify-between items-center w-full md:flex md:w-auto md:order-1 hidden\" id=\"mobile-menu-2\"\n          ref=\"mainMenu\" aria-hidden>\n\n          <ul\n            class=\"flex flex-col p-4 mt-4 bg-gray-50 rounded-lg border border-gray-100 md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700\">\n            <li>\n              <router-link to=\"/\"\n                class=\"block py-2 pr-4 pl-3 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700\"\n                aria-current=\"page\">ë©”ì¸í˜ì´ì§€</router-link>\n            </li>\n            <li>\n              <!-- FIXME: ClusterIPì˜ ë‚´ë¶€ ë„ë©”ì¸ ì´ë¦„ìœ¼ë¡œ ë³€ê²½í•´ì„œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ ë³€ê²½í•´ì•¼í•¨ -->\n              <router-link to=\"/stock\"\n                class=\"block py-2 pr-4 pl-3 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700\">\n                ì£¼ì‹ê±°ë˜\n              </router-link>\n            </li>\n            <li>\n              <!-- FIXME: ClusterIPì˜ ë‚´ë¶€ ë„ë©”ì¸ ì´ë¦„ìœ¼ë¡œ ë³€ê²½í•´ì„œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ ë³€ê²½í•´ì•¼í•¨ -->\n              <router-link to=\"/board/list/0/1\"\n                 class=\"block py-2 pr-4 pl-3 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700\">\n                í† ë¡ ê²Œì‹œíŒ\n              </router-link>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n\n    <div v-if=\"is_login\" class=\"fixed bottom-5 right-5 z-50\">\n      <div v-if=\"leapUpList.length !== 0\" class=\"hover-alert flex p-4 mb-4 bg-blue-100 rounded-lg dark:bg-blue-200\"\n           role=\"alert\">\n        <svg aria-hidden=\"true\" class=\"flex-shrink-0 w-5 h-5 text-blue-700 dark:text-blue-800\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clip-rule=\"evenodd\"></path></svg>\n        <div class=\"ml-3 text-sm font-medium text-blue-700 dark:text-blue-800\">\n          {{ leapUpList[0].name }} ì „ì¼ëŒ€ë¹„ {{leapUpList[0].diff}}% ìƒìŠ¹! <router-link\n            :to=\"{name: 'stockInfo', params: {stock_code: leapUpList[0].code}}\"\n            class=\"font-semibold underline hover:text-yellow-800 dark:hover:text-yellow-900\">ë§í¬</router-link>ë¥¼ í´ë¦­í•´ì„œ ë” ì•Œì•„ë³´ì„¸ìš”!\n        </div>\n        <button type=\"button\" @click=\"closeAlert($event)\"\n                class=\"ml-auto -mx-1.5 -my-1.5 bg-blue-100 text-blue-500 rounded-lg focus:ring-2\n                focus:ring-blue-400 p-1.5 hover:bg-blue-200 inline-flex h-8 w-8 dark:bg-blue-200 dark:text-blue-600 dark:hover:bg-blue-300\" data-dismiss-target=\"#alert-1\" aria-label=\"Close\">\n          <span class=\"sr-only\">Close</span>\n          <svg aria-hidden=\"true\" class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clip-rule=\"evenodd\"></path></svg>\n        </button>\n      </div>\n\n      <div v-if=\"leapDownList.length !== 0\" class=\"hover-alert flex p-4 mb-4 bg-yellow-100 rounded-lg dark:bg-yellow-200\"\n           role=\"alert\">\n        <svg aria-hidden=\"true\" class=\"flex-shrink-0 w-5 h-5 text-yellow-700 dark:text-yellow-800\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clip-rule=\"evenodd\"></path></svg>\n        <div class=\"ml-3 text-sm font-medium text-yellow-700 dark:text-yellow-800\">\n          {{ leapDownList[0].name }} ì „ì¼ëŒ€ë¹„ {{leapDownList[0].diff}}% í•˜ë½... <router-link\n            :to=\"{name: 'stockInfo', params: {stock_code: leapDownList[0].code}}\"\n                            class=\"font-semibold underline hover:text-yellow-800 dark:hover:text-yellow-900\">ë§í¬\n        </router-link>ë¥¼ í´ë¦­í•´ì„œ ë” ì•Œì•„ë³´ì„¸ìš”!\n        </div>\n        <button type=\"button\" @click=\"closeAlert($event)\"\n                class=\"ml-auto -mx-1.5 -my-1.5 bg-yellow-100 text-yellow-500 rounded-lg focus:ring-2 focus:ring-yellow-400 p-1.5 hover:bg-yellow-200 inline-flex h-8 w-8 dark:bg-yellow-200 dark:text-yellow-600 dark:hover:bg-yellow-300\" data-dismiss-target=\"#alert-4\" aria-label=\"Close\">\n          <span class=\"sr-only\">ë‹«ê¸°</span>\n          <svg aria-hidden=\"true\" class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clip-rule=\"evenodd\"></path></svg>\n        </button>\n      </div>\n\n      <div v-for=\"alert in newlyConfirmed.bought\" v-bind:key=\"alert.order_idx\"\n           class=\"hover-alert flex p-4 mb-4 bg-green-100 rounded-lg dark:bg-green-200\"\n           role=\"alert\">\n        <svg aria-hidden=\"true\" class=\"flex-shrink-0 inline w-5 h-5 mr-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clip-rule=\"evenodd\"></path></svg>\n        <div class=\"ml-3 text-sm font-medium text-green-700 dark:text-green-800\">\n          \"{{ alert.stock_name }}\"ì˜ ë§¤ìˆ˜ì£¼ë¬¸({{ alert.order_price }} KRW / {{ alert.order_amount }}ì£¼]ì´ ì „ëŸ‰ì±„ê²°! <router-link\n            to=\"/mypage\"\n            class=\"font-semibold underline hover:text-green-800 dark:hover:text-green-900\">ë§í¬</router-link>ë¥¼ í´ë¦­í•´ì„œ\n          ë” ì•Œì•„ë³´ì„¸ìš”!\n        </div>\n        <button type=\"button\" @click=\"checkConfirmAlert($event)\" v-bind:value=\"alert.order_idx\" order_type=\"buy\"\n                class=\"ml-auto -mx-1.5 -my-1.5 bg-green-100 text-green-500 rounded-lg focus:ring-2 focus:ring-green-400 p-1.5 hover:bg-green-200 inline-flex h-8 w-8 dark:bg-green-200 dark:text-green-600 dark:hover:bg-green-300\" data-dismiss-target=\"#alert-3\" aria-label=\"Close\">\n          <span class=\"sr-only\">ë‹«ê¸°</span>\n          <svg aria-hidden=\"true\" class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clip-rule=\"evenodd\"></path></svg>\n        </button>\n      </div>\n\n      <div v-for=\"alert in newlyConfirmed.sold\" v-bind:key=\"alert.order_idx\"\n           class=\"hover-alert flex p-4 mb-4 bg-green-100 rounded-lg dark:bg-green-200\"\n           role=\"alert\">\n        <svg aria-hidden=\"true\" class=\"flex-shrink-0 inline w-5 h-5 mr-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clip-rule=\"evenodd\"></path></svg>\n        <div class=\"ml-3 text-sm font-medium text-green-700 dark:text-green-800\">\n          \"{{ alert.stock_name }}\"ì˜ ë§¤ë„ì£¼ë¬¸({{ alert.order_price }} KRW / {{ alert.order_amount }}ì£¼]ì´ ì „ëŸ‰ì±„ê²°! <router-link\n            to=\"/mypage\"\n            class=\"font-semibold underline hover:text-green-800 dark:hover:text-green-900\">ë§í¬</router-link>ë¥¼ í´ë¦­í•´ì„œ\n          ë” ì•Œì•„ë³´ì„¸ìš”!\n        </div>\n        <button type=\"button\" @click=\"checkConfirmAlert($event)\" v-bind:value=\"alert.order_idx\" order_type=\"sell\"\n                class=\"ml-auto -mx-1.5 -my-1.5 bg-green-100 text-green-500 rounded-lg focus:ring-2 focus:ring-green-400 p-1.5 hover:bg-green-200 inline-flex h-8 w-8 dark:bg-green-200 dark:text-green-600 dark:hover:bg-green-300\" data-dismiss-target=\"#alert-3\" aria-label=\"Close\">\n          <span class=\"sr-only\">ë‹«ê¸°</span>\n          <svg aria-hidden=\"true\" class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clip-rule=\"evenodd\"></path></svg>\n        </button>\n      </div>\n\n    </div>\n\n\n  </div>\n\n</template>\n\n<script>\n\nimport axios from 'axios'\n\n\nexport default {\n  name: 'AppNav',\n\n  methods: {\n    toggleMainMenu() {\n      this.$refs.mainMenu.toggleAttribute('aria-hidden')\n      this.$refs.mainMenu.classList.toggle('hidden')\n    },\n    toggleUserMenu() {\n      this.$refs.userMenu.toggleAttribute('aria-hidden')\n      this.$refs.userMenu.classList.toggle('hidden')\n    },\n    logout() {\n      axios.get('/api/logout')\n        .then(() => {\n          this.toggleUserMenu()\n          this.is_login = false\n          this.$refs.username.innerHTML = \"ë¡œê·¸ì¸ í•´ì£¼ì„¸ìš”.\"\n          this.$store.commit('logout')\n        })\n        .catch((error) => {\n          console.log(error)\n        })\n    },\n    getJumpedStock() {\n      axios.get('/api/user/hober')\n          .then((res) => {\n            this.leapUpList = res.data.upstock\n            this.leapDownList = res.data.downstock\n          })\n    },\n    closeAlert(e) {\n      // remove target alert from dom\n      e.target.closest('.hover-alert').remove()\n    },\n    getNewlyConfirmedList() {\n      axios.get('/api/user/stock/confirmed')\n          .then((res) => {\n            this.newlyConfirmed.bought = res.data.buylist\n            this.newlyConfirmed.sold = res.data.selllist\n            console.log(this.newlyConfirmed)\n          })\n          .catch((error) => {\n            console.log(error)\n          })\n    },\n    checkConfirmAlert(e) {\n      axios.post('/api/user/stock/confirmed/check/', {\n        order_idx: e.target.closest('.ml-auto').value,\n        order_type: e.target.closest('.ml-auto').getAttribute('order_type')\n      })\n          .then(() => {\n            this.closeAlert(e)\n            this.getNewlyConfirmedList()\n          })\n          .catch((error) => {\n            console.log(error)\n          })\n    }\n  },\n\n  created() {\n    this.getJumpedStock()\n    this.getNewlyConfirmedList()\n  },\n\n  data() {\n    return {\n      is_login: false,\n      is_admin: false,\n      leapUpList: [],\n      leapDownList: [],\n      newlyConfirmed: {\n        bought: [],\n        sold: []\n      },\n    }\n  },\n\n  watch: {\n    // TODO: í† í°ì´ ìˆë‹¤ë©´, í† í°ì´ ë§Œë£Œë˜ì—ˆëŠ”ì§€ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ê³ ,,, refresh tokenê¹Œì§€ ë§Œë£Œëœ ê²½ìš°ì—ëŠ”\n    // ë¡œê·¸ì•„ì›ƒì„ ì‹œí‚¤ê³ ,,, access tokenë§Œ ë§Œë£Œëœ ê²½ìš°ì—ëŠ” refresh tokenìœ¼ë¡œ access tokenì„ ì¬ë°œê¸‰ ë°›ì•„ì•¼í•¨\n    $route() {\n      this.is_login = false\n      if(this.$store.getters.getUserId !== '') {\n        this.is_login = true\n        this.$refs.username.innerHTML = this.$store.getters.getUserName\n      }\n\n      console.log(this.$store.getters.getPermission)\n      if(this.$store.getters.getPermission === '2') {\n        this.is_admin = true\n      }\n\n      this.$refs.userMenu.classList.add('hidden')\n      this.$refs.userMenu.setAttribute('aria-hidden', 'true')\n\n      this.getJumpedStock()\n      this.getNewlyConfirmedList()\n      this.$forceUpdate()\n    }\n  },\n}\n\n</script>\n\n<style>\n#user-dropdown {\n  position: absolute;\n  inset: 0px auto auto 0px;\n  margin: 0px;\n  width: 170px;\n  transform: translate3d(calc(100vw - 200px), 82px, 0px);\n}\n\n* {\n  box-sizing: border-box;\n}\n</style>"]},"metadata":{},"sourceType":"module"}