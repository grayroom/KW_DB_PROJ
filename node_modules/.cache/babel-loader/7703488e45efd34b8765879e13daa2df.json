{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"app\",\n  components: {},\n  watch: {\n    editStockTarget: function () {\n      this.getStockInfo();\n    }\n  },\n  methods: {\n    getPendingUserList() {\n      axios.get(\"/api/user/info/pending/\").then(res => {\n        console.log(res.data);\n        this.user_info = res.data;\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n\n    toAddMode() {\n      this.mode = \"add\";\n      this.stock_info = {\n        stock_code: \"\",\n        stock_name: \"\",\n        stock_amount: \"\",\n        cop_info: \"\",\n        market: \"\"\n      };\n    },\n\n    toEditMode() {\n      this.mode = \"edit\";\n    },\n\n    submit_stock() {\n      axios.post(\"/api/stock/submit/\", {\n        submit_type: \"submit\",\n        stock_code: this.stock_info[\"stock_code\"],\n        stock_name: this.stock_info[\"stock_name\"],\n        stock_amount: this.stock_info[\"stock_amount\"],\n        cop_info: this.stock_info[\"cop_info\"],\n        market: this.stock_info[\"market\"]\n      }).then(res => {\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n\n    edit_stock() {\n      axios.post(\"/api/stock/submit/\", {\n        submit_type: \"edit\",\n        stock_code: this.stock_info[\"stock_code\"],\n        stock_name: this.stock_info[\"stock_name\"],\n        stock_amount: this.stock_info[\"stock_amount\"],\n        cop_info: this.stock_info[\"cop_info\"],\n        market: this.stock_info[\"market\"]\n      }).then(res => {\n        console.log(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n\n    approve_user(user) {\n      axios.post(\"/api/user/approve/\", {\n        id: user[\"id\"],\n        user_name: user[\"user_name\"]\n      }).then(res => {\n        console.log(res.data);\n        this.getPendingUserList();\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n\n    decline_user(user) {\n      console.log(user[\"id\"]);\n      console.log(user[\"user_name\"]);\n      axios.post(\"/api/user/decline/\", {\n        id: user[\"id\"],\n        user_name: user[\"user_name\"]\n      }).then(res => {\n        console.log(res.data);\n        this.getPendingUserList();\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n\n    getStockList() {\n      axios.post('/api/stock/list', {\n        page: 0\n      }).then(response => {\n        this.stockList = response.data.stockList;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    getStockInfo() {\n      axios.post(\"/api/stock/info/\", {\n        stock_code: this.editStockTarget\n      }).then(res => {\n        this.stock_info = res.data;\n        this.stock_info.stock_amount = String(this.stock_info.stock_amount).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n        this.stock_info.stock_holding_amount = String(this.stock_info.stock_holding_amount).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n\n  },\n\n  created() {\n    this.getPendingUserList();\n    this.getStockList();\n  },\n\n  mounted() {\n    this.$refs.loading.style.display = 'none';\n  },\n\n  data() {\n    return {\n      stock_info: {\n        stock_code: 0,\n        stock_name: \"\",\n        stock_amount: 0,\n        cop_info: \"\",\n        market: \"\"\n      },\n      user_info: [],\n      mode: \"add\",\n      stockList: [],\n      editStockTarget: \"0\"\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAoLA;AAEA;EACAA,WADA;EAEAC,cAFA;EAIAC;IACAC;MACA;IACA;EAHA,CAJA;EAUAC;IACAC;MACAC,qCACAC,IADA,CACAC;QACAC;QACA;MACA,CAJA,EAKAC,KALA,CAKAC;QACAF;MACA,CAPA;IAQA,CAVA;;IAWAG;MACA;MACA;QACAC,cADA;QAEAC,cAFA;QAGAC,gBAHA;QAIAC,YAJA;QAKAC;MALA;IAOA,CApBA;;IAqBAC;MACA;IACA,CAvBA;;IAwBAC;MACAb,MACAc,IADA,CACA,oBADA,EACA;QACAC,qBADA;QAEAR,yCAFA;QAGAC,yCAHA;QAIAC,6CAJA;QAKAC,qCALA;QAMAC;MANA,CADA,EASAV,IATA,CASAC;QACAC;MACA,CAXA,EAYAC,KAZA,CAYAC;QACAF;MACA,CAdA;IAeA,CAxCA;;IAyCAa;MACAhB,MACAc,IADA,CACA,oBADA,EACA;QACAC,mBADA;QAEAR,yCAFA;QAGAC,yCAHA;QAIAC,6CAJA;QAKAC,qCALA;QAMAC;MANA,CADA,EASAV,IATA,CASAC;QACAC;MACA,CAXA,EAYAC,KAZA,CAYAC;QACAF;MACA,CAdA;IAeA,CAzDA;;IA0DAc;MACAjB,MACAc,IADA,CACA,oBADA,EACA;QACAI,cADA;QAEAC;MAFA,CADA,EAKAlB,IALA,CAKAC;QACAC;QACA;MACA,CARA,EASAC,KATA,CASAC;QACAF;MACA,CAXA;IAYA,CAvEA;;IAwEAiB;MACAjB;MACAA;MACAH,MACAc,IADA,CACA,oBADA,EACA;QACAI,cADA;QAEAC;MAFA,CADA,EAKAlB,IALA,CAKAC;QACAC;QACA;MACA,CARA,EASAC,KATA,CASAC;QACAF;MACA,CAXA;IAYA,CAvFA;;IAwFAkB;MACArB;QACAsB;MADA,GAGArB,IAHA,CAGAsB;QACA;MACA,CALA,EAMAnB,KANA,CAMAoB;QACArB;MACA,CARA;IASA,CAlGA;;IAmGAsB;MACAzB,MACAc,IADA,CACA,kBADA,EACA;QACAP;MADA,CADA,EAIAN,IAJA,CAIAC;QACA;QACA,4EACA,uBADA,EAEA,GAFA;QAIA,8CACA,oCADA,EAEAwB,OAFA,CAEA,uBAFA,EAEA,GAFA;MAGA,CAbA,EAcAtB,KAdA,CAcAC;QACAF;MACA,CAhBA;IAiBA;;EArHA,CAVA;;EAiIAwB;IACA;IACA;EACA,CApIA;;EAqIAC;IACA;EACA,CAvIA;;EAwIAC;IACA;MACAC;QACAvB,aADA;QAEAC,cAFA;QAGAC,eAHA;QAIAC,YAJA;QAKAC;MALA,CADA;MAQAoB,aARA;MASAC,WATA;MAUAC,aAVA;MAWApC;IAXA;EAaA;;AAtJA","names":["name","components","watch","editStockTarget","methods","getPendingUserList","axios","then","res","console","catch","err","toAddMode","stock_code","stock_name","stock_amount","cop_info","market","toEditMode","submit_stock","post","submit_type","edit_stock","approve_user","id","user_name","decline_user","getStockList","page","response","error","getStockInfo","replace","created","mounted","data","stock_info","user_info","mode","stockList"],"sourceRoot":"src/components","sources":["AdminConsole.vue"],"sourcesContent":["<template>\n  <div class=\"gap-10 max-w-7xl sticky top-0\">\n    <div class=\"flex flex-col-reverse gap-10\">\n      <!-- NOTE: list view -->\n\n      <div class=\"flex gap-10 justify-between\">\n        <div\n            class=\"grow h-min p-4 bg-white border rounded-lg shadow-md sm:p-8 dark:bg-gray-800 dark:border-gray-700 flex flex-col gap-5\">\n            <div>\n              <h5 class=\"text-3xl font-bold leading-none text-gray-900 dark:text-white\">\n                주식 정보 관리\n              </h5>\n            </div>\n            <div id=\"selector\" class=\"flex flex-row gap-5\">\n              <button v-on:click=\"toAddMode\"\n                  class=\"relative inline-flex items-center justify-center p-0.5 mb-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-purple-600 to-blue-500 group-hover:from-purple-600 group-hover:to-blue-500 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800\">\n                <span\n                    class=\"relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0\">\n                    신규등록\n                </span>\n              </button>\n              <button v-on:click=\"toEditMode\"\n                  class=\"relative inline-flex items-center justify-center p-0.5 mb-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br to-purple-600 from-blue-500 group-hover:from-purple-600 group-hover:to-blue-500 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800\">\n                <span\n                    class=\"relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0\">\n                    정보변경\n                </span>\n              </button>\n            </div>\n            <div id=\"addContainer\" class=\"flex flex-col gap-5\" v-if=\"mode === 'add'\">\n              <div>\n                <label for=\"stock_code\" class=\"block mb-2 text-xl font-bold text-gray-900 dark:text-white\">종목코드</label>\n                <input type=\"text\" v-model=\"stock_info['stock_code']\" id=\"stock_code\"\n                       class=\"bg-gray-50 border border-gray-300 text-gray-900 text-l rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n                       placeholder=\"0\" required />\n              </div>\n\n              <div>\n                <label for=\"stock_name \" class=\"block mb-2 text-xl font-bold text-gray-900 dark:text-white\">종목명</label>\n                <input type=\"text\" v-model=\"stock_info['stock_name']\" id=\"stock_name\"\n                       class=\"bg-gray-50 border border-gray-300 text-gray-900 text-l rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n                       placeholder=\"\" required />\n              </div>\n\n              <div>\n                <label for=\"stock_amount\" class=\"block mb-2 text-xl font-bold text-gray-900 dark:text-white\">\n                  발행 주식 수</label>\n                <input type=\"text\" v-model=\"stock_info['stock_amount']\" id=\"stock_amount\"\n                       class=\"bg-gray-50 border border-gray-300 text-gray-900 text-l rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n                       placeholder=\"0\" required />\n              </div>\n              <div>\n                <label for=\"cop_info\" class=\"block mb-2 text-xl font-bold text-gray-900 dark:text-white\">기업정보</label>\n                <textarea id=\"cop_info\" v-model=\"stock_info['cop_info']\" rows=\"4\"\n                          class=\"block p-2.5 w-full text-l text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n                          placeholder=\"간단한 기업에 대한 소개\"></textarea>\n              </div>\n\n              <div>\n                <button v-on:click=\"submit_stock\"\n                        class=\"relative inline-flex items-center justify-center p-0.5 mb-2 mr-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-purple-600 to-blue-500 group-hover:from-purple-600 group-hover:to-blue-500 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800\">\n                  <span class=\"relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0\">\n                      등록\n                  </span>\n                </button>\n              </div>\n            </div>\n            <div id=\"editContainer\" class=\"flex flex-col gap-5\" v-else>\n              <div>\n                <select id=\"countries_disabled\" class=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n                        v-model=\"editStockTarget\">\n                  <option value=\"0\" selected disabled>--글의 주제와 연관된 주식종목--</option>\n                  <option v-for=\"stock in stockList\" v-bind:key=\"stock\" v-bind:value=\"stock.code\">\n                    {{ stock.name }}\n                  </option>\n                </select>\n              </div>\n\n              <div>\n                <label for=\"cop_info\" class=\"block mb-2 text-xl font-bold text-gray-900 dark:text-white\">기업정보</label>\n                <textarea id=\"cop_info\" v-model=\"stock_info['cop_info']\" rows=\"4\"\n                          class=\"block p-2.5 w-full text-l text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n                          placeholder=\"간단한 기업에 대한 소개\"></textarea>\n              </div>\n\n              <div>\n                <button v-on:click=\"edit_stock\"\n                      class=\"relative inline-flex items-center justify-center p-0.5 mb-2 mr-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-purple-600 to-blue-500 group-hover:from-purple-600 group-hover:to-blue-500 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800\">\n                  <span class=\"relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0\">\n                      업데이트\n                  </span>\n                </button>\n              </div>\n            </div>\n        </div>\n        <div class=\"gap-5 grow h-min\">\n          <div class=\"p-4 bg-white border rounded-lg shadow-md sm:p-8 dark:bg-gray-800 dark:border-gray-700\">\n            <h5 class=\"text-3xl font-bold leading-none text-gray-900 dark:text-white mb-5\">\n              미승인 유저\n            </h5>\n            <div class=\"overflow-y-auto relative shadow-md sm:rounded-lg\">\n                <table class=\"my-3 w-full text-sm text-left text-gray-500 dark:text-gray-400\">\n                  <thead class=\"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400\">\n                  <tr>\n                    <th scope=\"col\" class=\"text-lg text-center py-3 px-6\">유저 아이디</th>\n                    <th scope=\"col\" class=\"text-lg text-center py-3 px-6\">유저 이름</th>\n                    <th scope=\"col\" class=\"text-lg text-center py-3 px-6\">작업</th>\n                  </tr>\n                  </thead>\n                  <tbody>\n                  <tr v-for=\"user in user_info\" :key=\"user.idx\"\n                      class=\"bg-white border-b dark:bg-gray-800 dark:border-gray-700\">\n                    <th scope=\"row\"\n                        class=\"py-4 px-6 font-bold text-lg text-gray-900 text-center whitespace-nowrap dark:text-white\">\n                      {{ user[\"id\"] }}\n                    </th>\n                    <td class=\"py-4 px-6 font-bold text-lg text-gray-900 text-center whitespace-nowrap dark:text-white\">\n                      {{ user[\"user_name\"] }}\n                    </td>\n\n                    <td class=\"py-4 px-6 text-center flex flex-row gap-5 justify-evenly\">\n                      <button v-on:click=\"approve_user(user)\"\n                              class=\"relative inline-flex items-center justify-center p-0.5 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-teal-300 to-lime-300 group-hover:from-teal-300 group-hover:to-lime-300 dark:text-white dark:hover:text-gray-900 focus:ring-4 focus:outline-none focus:ring-lime-200 dark:focus:ring-lime-800\">\n                          <span class=\"relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0\">\n                              승인\n                          </span>\n                      </button>\n                      <button\n                          v-on:click=\"decline_user(user)\"\n                          class=\"relative inline-flex items-center justify-center p-0.5 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-pink-500 to-orange-400 group-hover:from-pink-500 group-hover:to-orange-400 hover:text-white dark:text-white focus:ring-4 focus:outline-none focus:ring-pink-200 dark:focus:ring-pink-800\">\n                          <span class=\"relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0\">\n                              거절\n                          </span>\n                      </button>\n                    </td>\n                  </tr>\n                  </tbody>\n                </table>\n\n                <div role=\"status\" ref=\"loading\"\n                   class=\"p-4 space-y-4 rounded border w-full border-gray-200 divide-y divide-gray-200 shadow animate-pulse dark:divide-gray-700 md:p-6 dark:border-gray-700\">\n                  <div class=\"flex justify-between items-center pt-4\">\n                    <div>\n                      <div class=\"h-2.5 bg-gray-300 rounded-full dark:bg-gray-600 mb-2.5\"></div>\n                      <div class=\"h-2 bg-gray-200 rounded-full dark:bg-gray-700\"></div>\n                    </div>\n                    <div class=\"h-2.5 bg-gray-300 rounded-full dark:bg-gray-700 w-full\"></div>\n                  </div>\n                  <div class=\"flex justify-between items-center pt-4\">\n                    <div>\n                      <div class=\"h-2.5 bg-gray-300 rounded-full dark:bg-gray-600 mb-2.5\"></div>\n                      <div class=\"h-2 bg-gray-200 rounded-full dark:bg-gray-700\"></div>\n                    </div>\n                    <div class=\"h-2.5 bg-gray-300 rounded-full dark:bg-gray-700 w-full\"></div>\n                  </div>\n                  <div class=\"flex justify-between items-center pt-4\">\n                    <div>\n                      <div class=\"h-2.5 bg-gray-300 rounded-full dark:bg-gray-600 mb-2.5\"></div>\n                      <div class=\"h-2 bg-gray-200 rounded-full dark:bg-gray-700\"></div>\n                    </div>\n                    <div class=\"h-2.5 bg-gray-300 rounded-full dark:bg-gray-700 w-full\"></div>\n                  </div>\n                  <div class=\"flex justify-between items-center pt-4\">\n                    <div>\n                      <div class=\"h-2.5 bg-gray-300 rounded-full dark:bg-gray-600 mb-2.5\"></div>\n                      <div class=\"h-2 bg-gray-200 rounded-full dark:bg-gray-700\"></div>\n                    </div>\n                    <div class=\"h-2.5 bg-gray-300 rounded-full dark:bg-gray-700 w-full\"></div>\n                  </div>\n                  <span class=\"sr-only\">Loading...</span>\n                </div>\n              </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"app\",\n  components: {},\n\n  watch: {\n    editStockTarget: function () {\n      this.getStockInfo()\n    }\n  },\n\n  methods: {\n    getPendingUserList() {\n      axios.get(\"/api/user/info/pending/\")\n          .then((res) => {\n            console.log(res.data);\n            this.user_info = res.data;\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n    },\n    toAddMode() {\n      this.mode = \"add\";\n      this.stock_info = {\n        stock_code: \"\",\n        stock_name: \"\",\n        stock_amount: \"\",\n        cop_info: \"\",\n        market: \"\",\n      };\n    },\n    toEditMode() {\n      this.mode = \"edit\";\n    },\n    submit_stock() {\n      axios\n          .post(\"/api/stock/submit/\", {\n            submit_type: \"submit\",\n            stock_code: this.stock_info[\"stock_code\"],\n            stock_name: this.stock_info[\"stock_name\"],\n            stock_amount: this.stock_info[\"stock_amount\"],\n            cop_info: this.stock_info[\"cop_info\"],\n            market: this.stock_info[\"market\"],\n          })\n          .then((res) => {\n            console.log(res.data);\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n    },\n    edit_stock() {\n      axios\n          .post(\"/api/stock/submit/\", {\n            submit_type: \"edit\",\n            stock_code: this.stock_info[\"stock_code\"],\n            stock_name: this.stock_info[\"stock_name\"],\n            stock_amount: this.stock_info[\"stock_amount\"],\n            cop_info: this.stock_info[\"cop_info\"],\n            market: this.stock_info[\"market\"],\n          })\n          .then((res) => {\n            console.log(res.data);\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n    },\n    approve_user(user) {\n      axios\n          .post(\"/api/user/approve/\", {\n            id: user[\"id\"],\n            user_name: user[\"user_name\"],\n          })\n          .then((res) => {\n            console.log(res.data);\n            this.getPendingUserList()\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n    },\n    decline_user(user) {\n      console.log(user[\"id\"]);\n      console.log(user[\"user_name\"]);\n      axios\n          .post(\"/api/user/decline/\", {\n            id: user[\"id\"],\n            user_name: user[\"user_name\"],\n          })\n          .then((res) => {\n            console.log(res.data);\n            this.getPendingUserList()\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n    },\n    getStockList() {\n      axios.post('/api/stock/list', {\n        page: 0\n      }).\n      then((response) => {\n        this.stockList = response.data.stockList;\n      }).\n      catch((error) => {\n        console.log(error);\n      });\n    },\n    getStockInfo() {\n      axios\n          .post(\"/api/stock/info/\", {\n            stock_code: this.editStockTarget,\n          })\n          .then((res) => {\n            this.stock_info = res.data;\n            this.stock_info.stock_amount = String(this.stock_info.stock_amount).replace(\n                /\\B(?=(\\d{3})+(?!\\d))/g,\n                \",\"\n            );\n            this.stock_info.stock_holding_amount = String(\n                this.stock_info.stock_holding_amount\n            ).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n    }\n  },\n  created() {\n    this.getPendingUserList()\n    this.getStockList()\n  },\n  mounted() {\n    this.$refs.loading.style.display = 'none'\n  },\n  data() {\n    return {\n      stock_info: {\n        stock_code: 0,\n        stock_name: \"\",\n        stock_amount: 0,\n        cop_info: \"\",\n        market: \"\",\n      },\n      user_info: [],\n      mode: \"add\",\n      stockList: [],\n      editStockTarget: \"0\",\n    };\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}